<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Google Photos Embed Code Generator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Page styles -->

  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://code.getmdl.io/1.2.0/material.indigo-pink.min.css">
  <link rel="stylesheet" href="./css/style.css">

  <!-- load moment.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.14.1/moment-with-locales.min.js"></script>
  <script src="./js/gpecg.js"></script>
</head>

<body>

<!-- Always shows a header, even in smaller screens. -->
<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
    <header class="mdl-layout__header">
      <div class="mdl-layout__header-row">
        <!-- Title -->
        <span class="mdl-layout-title">Google Photos Embed Code Generator</span>
        <!-- Add spacer, to align navigation to the right -->
        <div class="mdl-layout-spacer"></div>
      </div>
    </header>
    <main class="mdl-layout__content">

      <div class="main-menu mdl-grid mdl-grid--no-spacing mdl-shadow--2dp">
        <div class="mdl-card mdl-cell mdl-cell--12-col">
          <h2 id="-">ここは何？</h2>
          <p>Google Photos Embed Code Generatorは、Googleフォトのアルバム内にある写真から埋め込みタグを生成します。</p>

          <a id="run-picker" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">
              Googleフォトのアルバム一覧を開く...
          </a>
          <br />
          <br />
        </div>
      </div>
      <div class="result-area mdl-grid mdl-grid--no-spacing mdl-shadow--2dp" id="result"></div>
      <!-- <div class="result-area mdl-grid mdl-grid--no-spacing mdl-shadow--2dp" id="result_tmp">
        <section class="embed_code_card section--center mdl-grid mdl-grid--no-spacing mdl-shadow--2dp">
          <header class="section__play-btn mdl-cell mdl-cell--3-col-desktop mdl-cell--2-col-tablet mdl-cell--4-col-phone mdl-color--teal-100 mdl-color-text--white">
            <div class="mdl-card__media">
              <img src="https://getmdl.io/templates/android-dot-com/images/more-from-1.png" alt="">
            </div>
          </header>
          <div class="mdl-card mdl-cell mdl-cell--9-col-desktop mdl-cell--6-col-tablet mdl-cell--4-col-phone">
            <div class="mdl-card__supporting-text">
              <h4>[Title]</h4>
              <div class="html_embed_code">
                <span>HTML</span>
                <input type="text" id="user">
                <button class="mdl-button mdl-js-button mdl-button--icon">
                    <i class="material-icons">content_copy</i>
                </button>
              </div>

              <div class="markdown_embed_code">
                  <span>Markdown</span>
                  <input type="text" id="user">
                  <button class="mdl-button mdl-js-button mdl-button--icon">
                      <i class="material-icons">content_copy</i>
                  </button>
                </div>
            </div>
          </div>
          <div class="mdl-menu__container is-upgraded"><div class="mdl-menu__outline mdl-menu--bottom-right"></div><ul class="mdl-menu mdl-js-menu mdl-menu--bottom-right" for="btn1" data-upgraded=",MaterialMenu">
            <li class="mdl-menu__item" tabindex="-1">Lorem</li>
            <li class="mdl-menu__item" disabled="" tabindex="-1">Ipsum</li>
            <li class="mdl-menu__item" tabindex="-1">Dolor</li>
          </ul></div>
        </section>

        <section class="embed_code_card section--center mdl-grid mdl-grid--no-spacing mdl-shadow--2dp">
            <header class="section__play-btn mdl-cell mdl-cell--3-col-desktop mdl-cell--2-col-tablet mdl-cell--4-col-phone mdl-color--teal-100 mdl-color-text--white">
              <div class="mdl-card__media">
                <img src="${select_img_urls[img_i].embed_obj.url}" alt="">
              </div>
            </header>
            <div class="mdl-card mdl-cell mdl-cell--9-col-desktop mdl-cell--6-col-tablet mdl-cell--4-col-phone">
              <div class="mdl-card__supporting-text">
                <h4>${embed_pic_name}</h4>
                <div class="html_embed_code_area">
                  <h5>HTML</h5>
                  <textarea name="embed_tag" rows="4" cols="40" onclick="this.select()">${html_embed_tag_str}</textarea>
                </div>

                <div class="markdown_embed_code_area">
                    <h5>Markdown</h5>
                    <input type="text" id="markdown_code" value="${md_embed_tag_str}" onclick="this.select()">
              </div>
            </div>
            <div class="mdl-menu__container is-upgraded"><div class="mdl-menu__outline mdl-menu--bottom-right"></div><ul class="mdl-menu mdl-js-menu mdl-menu--bottom-right" for="btn1" data-upgraded=",MaterialMenu">
              <li class="mdl-menu__item" tabindex="-1">Lorem</li>
              <li class="mdl-menu__item" disabled="" tabindex="-1">Ipsum</li>
              <li class="mdl-menu__item" tabindex="-1">Dolor</li>
            </ul></div>
          </section>
      </div> -->

      <div class="readme-area">
        <!-- ここはカードに入れる -->
        <h2 id="-">利用方法</h2>
        <ul>
          <li>このページ内にある「GOOGLEフォトのアルバム一覧を開く...  」ボタンを押すと自動的にGoogleよりoAuthの認証が実行されます
            （この時点で同意できない方はご利用の中断をお願い致します）</li>
          <li>次にGoogleフォトのアルバム一覧が表示されますので、埋め込みタグを生成させたいアルバム内の写真を選択して下さい</li>
          <li>選択後に、選択したアルバム情報と選択した写真の埋め込みタグが生成されます</li>
        </ul>
        <h2 id="-">プロジェクトサイト</h2>
          <a href="https://github.com/hrsano645/google-photos-embed-code-generator">GitHub - hrsano645/google-photos-embed-code-generator: Generate Embed Code(img tag) for Google Photos</a>
        <h2>推奨環境</h2>
        <p>推奨環境（開発環境）は以下のとおりです</p>
        <ul>
          <li>Chrome 52</li>
          <li>Android Chrome 52</li>
          <li>Microsoft Edge (PC)</li>
        </ul>
        <p>javascript Template literalを利用しているため、chromeとfirefox以外は基本的に非推奨です</p>
        <p>
          <a href="https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/template_strings">Template literal - JavaScript | MDN
          </a>
        </p>
        <h2 id="-">ライセンス情報</h2>
        <p>MIT License. See <a href="https://raw.githubusercontent.com/hrsano645/google-photos-embed-code-generator/master/LICENSE">LICENSE File</a></p>
      </div>
    </main>
  </div>

  <!-- The Google API Loader script. -->
  <script type="text/javascript" src="https://apis.google.com/js/api.js?onload=onApiLoad"></script>
  <script type="text/javascript">
    var runPickerButton = document.querySelector('#run-picker');
    runPickerButton.addEventListener('click', function() {
      var setOAuthToken = true;
      if(authApiLoaded && !oauthToken) {
        window.gapi.auth.authorize(
          {
            'client_id': clientId,
            'scope': scope,
            'immediate': false
          },
          handleAuthResult
        );
      } else {
        createPicker(setOAuthToken);
      }
      return false;
    });
  </script>
  <script defer src="https://code.getmdl.io/1.2.0/material.min.js"></script>
</body>

</html>